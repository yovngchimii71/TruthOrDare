<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Walentynki ‚ù§Ô∏è</title>

<style>
body {
    font-family: Arial, sans-serif;
    background: #ffe6eb;
    text-align: center;
    padding: 20px;
    margin: 0;
    overflow: hidden;
}

.heart {
    width: 60vw;
    max-width: 220px;
    margin-bottom: 10px;
}

.name {
    font-size: 6vw;
    max-font-size: 26px;
    font-weight: bold;
    color: #d6336c;
    margin-bottom: 20px;
}

h1 {
    color: #d6336c;
    font-size: 5vw;
    max-font-size: 26px;
}

#message {
    margin-top: 10px;
    font-size: 5vw;
    max-font-size: 22px;
    color: #ff4d6d;
    font-weight: bold;
    height: 30px;
}

button {
    padding: 3vw 5vw;
    margin: 10px;
    font-size: 5vw;
    max-font-size: 20px;
    border: none;
    border-radius: 12px;
    cursor: pointer;
    transition: 0.3s;
    touch-action: manipulation;
}

#yesBtn {
    background-color: #ff4d6d;
    color: white;
}

#noBtn {
    background-color: #adb5bd;
    color: white;
}

#finalScreen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: black;
    color: white;
    display: none;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    z-index: 15;
    font-size: 10vw;
    text-align: center;
}

canvas {
    position: fixed;
    top: 0;
    left: 0;
    z-index: 10;
    pointer-events: none;
}
</style>
</head>

<body>

<img class="heart" src="https://media.giphy.com/media/MDJ9IbxxvDUQM/giphy.gif" alt="Serce">
<div class="name">Oliwia Czupryniak ‚ù§Ô∏è</div>

<h1>Czy zostaniesz mojƒÖ walentynkƒÖ? ‚ù§Ô∏è</h1>

<div>
    <button id="yesBtn">Tak</button>
    <button id="noBtn">Nie</button>
</div>

<div id="message"></div>

<div id="finalScreen">
    üéâ Gratulacje zdobycia tatusia ‚ù§Ô∏è üéâ
</div>

<canvas id="fireworks"></canvas>

<audio id="boomSound">
    <source src="https://assets.mixkit.co/sfx/preview/mixkit-fireworks-explosion-1684.mp3" type="audio/mpeg">
</audio>

<script>
let yesSize = 1;
let noSize = 1;
let fireworksStarted = false;

const yesBtn = document.getElementById("yesBtn");
const noBtn = document.getElementById("noBtn");
const message = document.getElementById("message");
const finalScreen = document.getElementById("finalScreen");
const boomSound = document.getElementById("boomSound");

/* NIE */
noBtn.addEventListener('click', () => {
    yesSize += 0.2;
    noSize -= 0.1;
    if(noSize < 0.3) noSize = 0.3;
    yesBtn.style.transform = `scale(${yesSize})`;
    noBtn.style.transform = `scale(${noSize})`;
    message.textContent = "Na pewno? Przemy≈õl to üò¢";
});

/* TAK */
yesBtn.addEventListener('click', () => {
    finalScreen.style.display = "flex";
    // audio na mobilnym dzia≈Ça tylko po klikniƒôciu
    boomSound.play().catch(()=>{});
    if(!fireworksStarted){
        startFireworks();
        fireworksStarted = true;
    }
});

/* ===== FAJERWERKI ===== */
const canvas = document.getElementById("fireworks");
const ctx = canvas.getContext("2d");

function resizeCanvas(){
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
}
resizeCanvas();
window.addEventListener("resize", resizeCanvas);

let particles = [];

function startFireworks(){
    function spawnFirework() {
        playBoom();
        explode(Math.random() * canvas.width, Math.random() * canvas.height * 0.5);
        setTimeout(spawnFirework, 900);
    }
    spawnFirework();
    animate();
}

function playBoom(){
    boomSound.currentTime = 0;
    boomSound.play().catch(()=>{});
}

function explode(x,y){
    const colors = ["#ff0043","#14fc56","#1e90ff","#ffff00","#ff7f00","#ff00ff"];
    for(let i=0;i<120;i++){
        particles.push({
            x:x,
            y:y,
            angle: Math.random()*Math.PI*2,
            speed: Math.random()*5+2,
            life: 100,
            color: colors[Math.floor(Math.random()*colors.length)]
        });
    }
}

function animate(){
    ctx.fillStyle = "rgba(0,0,0,0.25)";
    ctx.fillRect(0,0,canvas.width,canvas.height);

    for (let i = particles.length - 1; i >= 0; i--) {
        const p = particles[i];
        p.x += Math.cos(p.angle)*p.speed;
        p.y += Math.sin(p.angle)*p.speed;
        p.life--;

        ctx.beginPath();
        ctx.arc(p.x,p.y,3,0,Math.PI*2);
        ctx.fillStyle = p.color;
        ctx.fill();

        if(p.life <= 0){
            particles.splice(i,1);
        }
    }

    requestAnimationFrame(animate);
}
</script>

</body>
</html>
